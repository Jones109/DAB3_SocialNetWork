@using Microsoft.AspNetCore.Http
@inject IHttpContextAccessor HttpContextAccessor

@{

    var currentController = ViewContext.RouteData.Values["Controller"].ToString();
    var currentAction = ViewContext.RouteData.Values["Action"].ToString();
    var registerUrl = "/LoginTest/Register/" + currentController + "-" + currentAction + "-";
    var loginUrl = "/LoginTest/Login/" + currentController + "-" + currentAction + "-";


    var LoggedInAs = HttpContextAccessor.HttpContext.Session.GetString("UserId");

}

@if (string.IsNullOrEmpty(LoggedInAs))
{
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link text-dark" href="@registerUrl">Register</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark">|</a>
        </li>
        <li class="nav-item">
            <a class="nav-link text-dark" href="@loginUrl">Login</a>
        </li>
    </ul>
}
else
{
    <ul class="navbar-nav">
        <li class="nav-item">
            <a class="nav-link text-dark" href="/LoginTest/Edit/@LoggedInAs">Logged in</a>
        </li>
    </ul>
}
