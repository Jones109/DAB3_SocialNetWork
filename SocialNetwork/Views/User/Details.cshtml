@using System.Security.Cryptography
@model SocialNetwork.ViewModels.UserViewModel

@if (Model != null)
{
    <h2>@Model.User.Name Profile</h2>
    <h3>Followers</h3>
    if (Model.Followers.Count != 0)
    {
        foreach (var follower in Model.Followers)
        {
            <a asp-action="Details" asp-route-id="@follower.Id">@follower.Name</a>
            bool exist = false;
            foreach (var blacklist in Model.Blacklisted)
            {
                if (blacklist.Id == follower.Id)
                {
                    exist = true;
                }
            }
            if (!exist)
            {
                <a class="btn-dark" asp-action="BlackList" asp-route-idToBlacklist="@follower.Id">Blacklist</a>
            }
        }
    }
    else
    {
        <p>No Followers</p>
    }
    <h3>Following</h3>
    if (Model.Following.Count != 0)
    {
        foreach (var following in Model.Following)
        {
            <a asp-action="Details" asp-route-id="@following.Id">@following.Name</a>
        }
    }
    else
    {
        <p>Following none</p>
    }
    <h3>Blacklisted</h3>
    if (Model.Blacklisted.Count != 0)
    {
        foreach (var blackList in Model.Blacklisted)
        {
            <p>Blacklisted user: @blackList.Name</p>
        }
    }
    else
    {
        <p>None blacklisted</p>
    }
    <h3>Circles</h3>
    if (Model.Circles != null)
    {
        foreach (var circle in Model.Circles)
        {
            <p>Circle: @circle.Name </p>
        }
    }
    else
    {
        <p>Not following any circles</p>
    }

}
else
{
    <h2>Model not found</h2>
}

